{"ast":null,"code":"function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function ajaxUpload(options) {\n  var name = options.name,\n      timeout = options.timeout,\n      _options$headers = options.headers,\n      headers = _options$headers === void 0 ? {} : _options$headers,\n      _options$data = options.data,\n      data = _options$data === void 0 ? {} : _options$data,\n      onError = options.onError,\n      onSuccess = options.onSuccess,\n      onProgress = options.onProgress,\n      file = options.file,\n      url = options.url,\n      withCredentials = options.withCredentials,\n      disableMultipart = options.disableMultipart;\n  var xhr = new XMLHttpRequest();\n  var sendableData;\n  xhr.open('POST', url, true);\n\n  if (!disableMultipart) {\n    sendableData = new FormData();\n    sendableData.append(name, file, file.name);\n\n    for (var key in data) {\n      sendableData.append(key, data[key]);\n    }\n  } else {\n    sendableData = file;\n  }\n\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (timeout) {\n    xhr.timeout = timeout;\n\n    xhr.ontimeout = function (event) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\n  };\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\n    };\n  }\n\n  xhr.onerror = function (event) {\n    onError === null || onError === void 0 ? void 0 : onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n\n  xhr.send(sendableData);\n  return {\n    xhr: xhr,\n    data: sendableData\n  };\n}","map":{"version":3,"sources":["/Users/supriyomal/Documents/GitHub/LeetQuestion/node_modules/rsuite/esm/utils/ajaxUpload.js"],"names":["getResponse","xhr","text","responseText","response","JSON","parse","e","ajaxUpload","options","name","timeout","_options$headers","headers","_options$data","data","onError","onSuccess","onProgress","file","url","withCredentials","disableMultipart","XMLHttpRequest","sendableData","open","FormData","append","key","Object","keys","forEach","setRequestHeader","ontimeout","event","type","onload","resp","status","upload","onprogress","percent","lengthComputable","loaded","total","onerror","send"],"mappings":"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","sourcesContent":["function getResponse(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function ajaxUpload(options) {\n  var name = options.name,\n      timeout = options.timeout,\n      _options$headers = options.headers,\n      headers = _options$headers === void 0 ? {} : _options$headers,\n      _options$data = options.data,\n      data = _options$data === void 0 ? {} : _options$data,\n      onError = options.onError,\n      onSuccess = options.onSuccess,\n      onProgress = options.onProgress,\n      file = options.file,\n      url = options.url,\n      withCredentials = options.withCredentials,\n      disableMultipart = options.disableMultipart;\n  var xhr = new XMLHttpRequest();\n  var sendableData;\n  xhr.open('POST', url, true);\n\n  if (!disableMultipart) {\n    sendableData = new FormData();\n    sendableData.append(name, file, file.name);\n\n    for (var key in data) {\n      sendableData.append(key, data[key]);\n    }\n  } else {\n    sendableData = file;\n  }\n\n  Object.keys(headers).forEach(function (key) {\n    if (headers[key] !== null) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n  });\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  if (timeout) {\n    xhr.timeout = timeout;\n\n    xhr.ontimeout = function (event) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'timeout'\n      }, event, xhr);\n    };\n  }\n\n  if (withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function (event) {\n    var resp = getResponse(xhr);\n\n    if (xhr.status < 200 || xhr.status >= 300) {\n      onError === null || onError === void 0 ? void 0 : onError({\n        type: 'server_error',\n        response: resp\n      }, event, xhr);\n      return;\n    }\n\n    onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(resp, event, xhr);\n  };\n\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (event) {\n      var percent = 0;\n\n      if (event.lengthComputable) {\n        percent = event.loaded / event.total * 100;\n      }\n\n      onProgress === null || onProgress === void 0 ? void 0 : onProgress(percent, event, xhr);\n    };\n  }\n\n  xhr.onerror = function (event) {\n    onError === null || onError === void 0 ? void 0 : onError({\n      type: 'xhr_error'\n    }, event, xhr);\n  };\n\n  xhr.send(sendableData);\n  return {\n    xhr: xhr,\n    data: sendableData\n  };\n}"]},"metadata":{},"sourceType":"module"}