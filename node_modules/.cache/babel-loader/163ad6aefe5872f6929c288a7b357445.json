{"ast":null,"code":"export var Schema = /*#__PURE__*/function () {\n  function Schema(schema) {\n    this.spec = void 0;\n    this.data = void 0;\n    this.spec = schema;\n  }\n\n  var _proto = Schema.prototype;\n\n  _proto.getFieldType = function getFieldType(fieldName) {\n    var _this$spec;\n\n    return (_this$spec = this.spec) === null || _this$spec === void 0 ? void 0 : _this$spec[fieldName];\n  };\n\n  _proto.getKeys = function getKeys() {\n    return Object.keys(this.spec);\n  };\n\n  _proto.setSchemaOptionsForAllType = function setSchemaOptionsForAllType(data) {\n    var _this = this;\n\n    if (data === this.data) {\n      return;\n    }\n\n    Object.entries(this.spec).forEach(function (_ref) {\n      var key = _ref[0],\n          type = _ref[1];\n      type.setSchemaOptions(_this.spec, data === null || data === void 0 ? void 0 : data[key]);\n    });\n    this.data = data;\n  };\n\n  _proto.checkForField = function checkForField(fieldName, data) {\n    this.setSchemaOptionsForAllType(data);\n    var fieldChecker = this.spec[fieldName];\n\n    if (!fieldChecker) {\n      // fieldValue can be anything if no schema defined\n      return {\n        hasError: false\n      };\n    }\n\n    return fieldChecker.check(data[fieldName], data, fieldName);\n  };\n\n  _proto.checkForFieldAsync = function checkForFieldAsync(fieldName, data) {\n    this.setSchemaOptionsForAllType(data);\n    var fieldChecker = this.spec[fieldName];\n\n    if (!fieldChecker) {\n      // fieldValue can be anything if no schema defined\n      return Promise.resolve({\n        hasError: false\n      });\n    }\n\n    return fieldChecker.checkAsync(data[fieldName], data, fieldName);\n  };\n\n  _proto.check = function check(data) {\n    var _this2 = this;\n\n    var checkResult = {};\n    Object.keys(this.spec).forEach(function (key) {\n      if (typeof data === 'object') {\n        checkResult[key] = _this2.checkForField(key, data);\n      }\n    });\n    return checkResult;\n  };\n\n  _proto.checkAsync = function checkAsync(data) {\n    var _this3 = this;\n\n    var checkResult = {};\n    var promises = [];\n    var keys = [];\n    Object.keys(this.spec).forEach(function (key) {\n      keys.push(key);\n      promises.push(_this3.checkForFieldAsync(key, data));\n    });\n    return Promise.all(promises).then(function (values) {\n      for (var i = 0; i < values.length; i += 1) {\n        checkResult[keys[i]] = values[i];\n      }\n\n      return checkResult;\n    });\n  };\n\n  return Schema;\n}();\nexport function SchemaModel(o) {\n  return new Schema(o);\n}\n\nSchemaModel.combine = function combine() {\n  for (var _len = arguments.length, specs = new Array(_len), _key = 0; _key < _len; _key++) {\n    specs[_key] = arguments[_key];\n  }\n\n  return new Schema(specs.map(function (model) {\n    return model.spec;\n  }).reduce(function (accumulator, currentValue) {\n    return Object.assign(accumulator, currentValue);\n  }, {}));\n};","map":{"version":3,"sources":["/Users/supriyomal/Desktop/hekors-website-main/node_modules/schema-typed/es/Schema.js"],"names":["Schema","schema","spec","data","_proto","prototype","getFieldType","fieldName","_this$spec","getKeys","Object","keys","setSchemaOptionsForAllType","_this","entries","forEach","_ref","key","type","setSchemaOptions","checkForField","fieldChecker","hasError","check","checkForFieldAsync","Promise","resolve","checkAsync","_this2","checkResult","_this3","promises","push","all","then","values","i","length","SchemaModel","o","combine","_len","arguments","specs","Array","_key","map","model","reduce","accumulator","currentValue","assign"],"mappings":"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","sourcesContent":["export var Schema = /*#__PURE__*/function () {\n  function Schema(schema) {\n    this.spec = void 0;\n    this.data = void 0;\n    this.spec = schema;\n  }\n\n  var _proto = Schema.prototype;\n\n  _proto.getFieldType = function getFieldType(fieldName) {\n    var _this$spec;\n\n    return (_this$spec = this.spec) === null || _this$spec === void 0 ? void 0 : _this$spec[fieldName];\n  };\n\n  _proto.getKeys = function getKeys() {\n    return Object.keys(this.spec);\n  };\n\n  _proto.setSchemaOptionsForAllType = function setSchemaOptionsForAllType(data) {\n    var _this = this;\n\n    if (data === this.data) {\n      return;\n    }\n\n    Object.entries(this.spec).forEach(function (_ref) {\n      var key = _ref[0],\n          type = _ref[1];\n      type.setSchemaOptions(_this.spec, data === null || data === void 0 ? void 0 : data[key]);\n    });\n    this.data = data;\n  };\n\n  _proto.checkForField = function checkForField(fieldName, data) {\n    this.setSchemaOptionsForAllType(data);\n    var fieldChecker = this.spec[fieldName];\n\n    if (!fieldChecker) {\n      // fieldValue can be anything if no schema defined\n      return {\n        hasError: false\n      };\n    }\n\n    return fieldChecker.check(data[fieldName], data, fieldName);\n  };\n\n  _proto.checkForFieldAsync = function checkForFieldAsync(fieldName, data) {\n    this.setSchemaOptionsForAllType(data);\n    var fieldChecker = this.spec[fieldName];\n\n    if (!fieldChecker) {\n      // fieldValue can be anything if no schema defined\n      return Promise.resolve({\n        hasError: false\n      });\n    }\n\n    return fieldChecker.checkAsync(data[fieldName], data, fieldName);\n  };\n\n  _proto.check = function check(data) {\n    var _this2 = this;\n\n    var checkResult = {};\n    Object.keys(this.spec).forEach(function (key) {\n      if (typeof data === 'object') {\n        checkResult[key] = _this2.checkForField(key, data);\n      }\n    });\n    return checkResult;\n  };\n\n  _proto.checkAsync = function checkAsync(data) {\n    var _this3 = this;\n\n    var checkResult = {};\n    var promises = [];\n    var keys = [];\n    Object.keys(this.spec).forEach(function (key) {\n      keys.push(key);\n      promises.push(_this3.checkForFieldAsync(key, data));\n    });\n    return Promise.all(promises).then(function (values) {\n      for (var i = 0; i < values.length; i += 1) {\n        checkResult[keys[i]] = values[i];\n      }\n\n      return checkResult;\n    });\n  };\n\n  return Schema;\n}();\nexport function SchemaModel(o) {\n  return new Schema(o);\n}\n\nSchemaModel.combine = function combine() {\n  for (var _len = arguments.length, specs = new Array(_len), _key = 0; _key < _len; _key++) {\n    specs[_key] = arguments[_key];\n  }\n\n  return new Schema(specs.map(function (model) {\n    return model.spec;\n  }).reduce(function (accumulator, currentValue) {\n    return Object.assign(accumulator, currentValue);\n  }, {}));\n};"]},"metadata":{},"sourceType":"module"}